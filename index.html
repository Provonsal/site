<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Telegram WebApps API</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script> <!--Ïîäêëþ÷àåì ñêðèïò îò òåëåãðàì-->

    <style>
        body {
            color: var(--tg-theme-text-color);
            background: var(--tg-theme-bg-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 18px;
        }

        .hint {
            color: var(--tg-theme-hint-color);
        }

        .link {
            color: var(--tg-theme-link-color);
        }

        .button {
            background: var(--tg-theme-button-color);
            color: var(--tg-theme-button-text-color);
            border: none;
            font-size: 18px;
        }

        .button:not(:last-child) {
            margin-bottom: 20px
        }

        #usercard {
            text-align: center;
        }
    </style>

    <script>
        let tg = window.Telegram.WebApp; //ïîëó÷àåì îáúåêò webapp òåëåãðàìà

        tg.expand(); //ðàñøèðÿåì íà âñå îêíî

        //tg.MainButton.text = "Changed Text"; //èçìåíÿåì òåêñò êíîïêè
        //tg.MainButton.setText("Changed Text1"); //èçìåíÿåì òåêñò êíîïêè èíà÷å
        //tg.MainButton.textColor = "#F55353"; //èçìåíÿåì öâåò òåêñòà êíîïêè
        //tg.MainButton.color = "#143F6B"; //èçìåíÿåì öâåò áýêãðàóíäà êíîïêè
        //tg.MainButton.setParams({ "color": "#143F6B" }); //òàê èçìåíÿþòñÿ âñå ïàðàìåòðû

        let btn = document.getElementById("btn"); //ïîëó÷àåì êíîïêó ñêðûòü/ïîêàçàòü

        btn.addEventListener('click', function () { //âåøàåì ñîáûòèå íà íàæàòèå html-êíîïêè
            if (tg.MainButton.isVisible) { //åñëè êíîïêà ïîêàçàíà
                tg.MainButton.hide() //ñêðûâàåì êíîïêó
            }
            else { //èíà÷å
                tg.MainButton.show() //ïîêàçûâàåì
            }
        });

        let btnED = document.getElementById("btnED"); //ïîëó÷àåì êíîïêó àêòèâèðîâàòü/äåàêòèâèðîâàòü
        btnED.addEventListener('click', function () { //âåøàåì ñîáûòèå íà íàæàòèå html-êíîïêè
            if (tg.MainButton.isActive) { //åñëè êíîïêà ïîêàçàíà
                tg.MainButton.setParams({ "color": "#E0FFFF" }); //ìåíÿåì öâåò
                tg.MainButton.disable() //ñêðûâàåì êíîïêó
            }
            else { //èíà÷å
                tg.MainButton.setParams({ "color": "#143F6B" }); //ìåíÿåì öâåò
                tg.MainButton.enable() //ïîêàçûâàåì
            }
        });

        Telegram.WebApp.onEvent('mainButtonClicked', function () {
            tg.close();
            //ïðè êëèêå íà îñíîâíóþ êíîïêó îòïðàâëÿåì äàííûå â ñòðîêîâîì âèäå
        });


        //let usercard = document.getElementById("usercard"); //ïîëó÷àåì áëîê usercard

        //let profName = document.createElement('p'); //ñîçäàåì ïàðàãðàô

        //profName.innerText = `${tg.initDataUnsafe.user.first_name}

        //${tg.initDataUnsafe.user.last_name}
        //${tg.initDataUnsafe.user.username} (${tg.initDataUnsafe.user.language_code})`;

        ////âûäåì èìÿ, "ôàìèëèþ", ÷åðåç òèðå username è êîä ÿçûêà
        //usercard.appendChild(profName); //äîáàâëÿåì

        //let userid = document.createElement('p'); //ñîçäàåì åùå ïàðàãðàô
        //userid.innerText = `${tg.initDataUnsafe.user.id}`; //ïîêàçûâàåì user_id
        //usercard.appendChild(userid); //äîáàâëÿåì


        //ðàáîòàåò òîëüêî â attachment menu
        // let pic = document.createElement('img'); //ñîçäàåì img
        // pic.src = tg.initDataUnsafe.user.photo_url; //çàäà¸ì src
        // usercard.appendChild(pic); //äîáàâëÿåì ýëåìåíò â êàðòî÷êó
    </script>
</head>

<body>
    <p>Just textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust textJust text</p> <!--Ïðîñòî òåêñò äëÿ ïðîâåðêè-->

    
    <button id="btn" class="button">Show/Hide Main Button</button> <!--Êíîïêà, ÷òîáû ñêðûòü / ïîêàçàòü îñíîâíóþ êíîïêó-->
    
</body>


</html>
